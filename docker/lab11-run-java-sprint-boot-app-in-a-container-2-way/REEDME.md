# ⚡ Spring Boot Docker App – External Build + Run with JAR Only

This guide demonstrates how to **build your Spring Boot JAR outside Docker**, and use a lightweight Java image to run it in a container.

---

## 📌 Project Overview

This is a clean and production-friendly approach where:

- The application is built using Maven **outside the Docker environment**.
- Only the generated `.jar` file is copied into the Docker image.
- The final image is lightweight, fast, and simple to deploy.

---

## 🔧 Requirements

- Java 17 and Maven installed locally to build the `.jar`
- Docker installed (`sudo apt install docker.io`)
- Internet connection to download base images

---

## 📂 Project Structure

```
project-root/
├── src/
├── pom.xml
├── Dockerfile
└── target/
    └── demo-0.0.1-SNAPSHOT.jar
```

> The `target/` directory is generated by Maven after running the build command.

---

## ✅ Step-by-Step Instructions

### 🔹 Step 1: Clone the Application Code

```bash
git clone https://github.com/Ibrahim-Adel15/Docker-1.git
cd Docker-1
```

### 🔹 Step 2: Build the JAR File Outside Docker

Make sure you have Java 17 and Maven installed, then run:

```bash
mvn clean package
```

This will generate the `.jar` file in the `target/` directory.

![image](https://github.com/Mohamedmagdy220/iVolve-OTJ-/blob/main/docker/lab11-run-java-sprint-boot-app-in-a-container-2-way/jar-file.png)
---

### 🔹 Step 3: Create the Dockerfile

Create a file named `Dockerfile` in the root of your project and add:

```dockerfile
FROM openjdk:17-jre-slim
WORKDIR /app
COPY target/demo-0.0.1-SNAPSHOT.jar app.jar
EXPOSE 8080
CMD ["java", "-jar", "app.jar"]
```

---

### 🔹 Step 4: Build the Docker Image

```bash
sudo docker build -t spring-demo-2 .
```
![image](https://github.com/Mohamedmagdy220/iVolve-OTJ-/blob/main/docker/lab11-run-java-sprint-boot-app-in-a-container-2-way/build%20container-2.png)
---

### 🔹 Step 5: Run the Docker Container

```bash
sudo docker run -d -p 8080:8080 spring-demo-2
```

---

### 🔹 Step 6: Access the Application

Open your browser and go to:  
👉 `http://localhost:8080`

or 
```bash
curl localhost:8080
```
![image](https://github.com/Mohamedmagdy220/iVolve-OTJ-/blob/main/docker/lab11-run-java-sprint-boot-app-in-a-container-2-way/test2.png)

---

## 🧠 Notes

- You do **not** need Maven or source code inside the image.
- The image is small, clean, and suitable for CI/CD or cloud deployment.
- You can automate build + copy + docker in a `Makefile` or `build.sh`.

---

## ✅ When to Use This Method

| Ideal for...            | Not ideal for...         |
|-------------------------|---------------------------|
| Production environments | Dynamic, on-demand builds |
| CI/CD pipelines         | Testing Maven inside Docker |
| Lightweight containers  | Debugging build failures inside container |

---


## 👨‍💻 Author
Mohamed Magdy
🎓 DevOps Trainee @ iVolve

